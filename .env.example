# -----------------------------------------------------------------------------
# New Farm Dog Walking App - Environment Configuration
# -----------------------------------------------------------------------------
# Copy this file to .env and update with your actual values
# The .env file is ignored by git to keep secrets safe

# -----------------------------------------------------------------------------
# Django Core Settings
# -----------------------------------------------------------------------------
# Generate a new secret key for production: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DJANGO_SECRET_KEY=your-secret-key-here-change-me

# Debug mode (0 = off, 1 = on) - MUST be 0 in production
DEBUG=0

# Custom admin URL for security (e.g., sk-hd7a4v0-admin/)
DJANGO_ADMIN_URL=django-admin/

# -----------------------------------------------------------------------------
# Production & Security Settings
# -----------------------------------------------------------------------------
# Enable production mode (enables security settings)
PRODUCTION=1

# SSL/HTTPS Settings for Cloudflare Tunnel
# Leave SECURE_SSL_REDIRECT=1 to enforce HTTPS redirects
SECURE_SSL_REDIRECT=1

# Trust X-Forwarded-Proto header from Cloudflare/reverse proxy
# Format: "HTTP_X_FORWARDED_PROTO,https"
SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https

# Trust X-Forwarded-Host header from proxy
USE_X_FORWARDED_HOST=1

# Secure cookie settings (automatically enabled when PRODUCTION=1)
SESSION_COOKIE_SECURE=1
CSRF_COOKIE_SECURE=1

# -----------------------------------------------------------------------------
# Allowed Hosts & CSRF
# -----------------------------------------------------------------------------
# Comma-separated list of allowed hostnames
ALLOWED_HOSTS=testserver,localhost,127.0.0.1,app.newfarmdogwalking.com.au

# Comma-separated list of trusted origins for CSRF (include https://)
CSRF_TRUSTED_ORIGINS=https://app.newfarmdogwalking.com.au

# -----------------------------------------------------------------------------
# Stripe Integration
# -----------------------------------------------------------------------------
# Get your keys from https://dashboard.stripe.com/apikeys
STRIPE_API_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here

# Stripe catalog cache time-to-live in seconds
STRIPE_CATALOG_TTL_SECONDS=300

# Enable detailed metadata logging for webhook debugging (0 = off, 1 = on)
STRIPE_METADATA_LOGGING=0

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
# Timezone for the application
TIME_ZONE=Australia/Brisbane

# Support contact email
SUPPORT_EMAIL=support@newfarmdogwalking.example

# -----------------------------------------------------------------------------
# Stripe Sync Settings
# -----------------------------------------------------------------------------
# Run subscription sync on application startup (0 = off, 1 = on)
STARTUP_SYNC=0

# Enable Celery Beat scheduler for periodic syncs (0 = off, 1 = on)
START_CELERY_BEAT=0

# -----------------------------------------------------------------------------
# Celery (Background Jobs)
# -----------------------------------------------------------------------------
# Redis connection for Celery broker and results
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# -----------------------------------------------------------------------------
# Stripe Key Storage
# -----------------------------------------------------------------------------
# Use OS keyring for secure key storage (0 = off, 1 = on)
USE_KEYRING=0
KEYRING_SERVICE_NAME=NewFarmDogWalking
